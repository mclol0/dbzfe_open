var/list/wish_list = list("10 mystery boxes","10 senzu beans","reset record (k/d)","{GS{x{Ch{x{Ge{x{Cn{x{Gr{x{Co{x{Gn{x{C's{x {gD{xr{ga{xg{xo{gn{x {GE{x{Ry{x{Ge{x","{GS{x{Ch{x{Ge{x{Cn{x{Gr{x{Co{x{Gn{x{C's{x {yAntlers{x","{GS{x{Ch{x{Ge{x{Cn{x{Gr{x{Co{x{Gn{x{C's{x {GL{x{Ce{Rns{x{Ce{x{Gs{x {cof{x {WW{x{Di{Csd{x{Do{x{Wm{x","{GS{x{Ch{x{Ge{x{Cn{x{Gr{x{Co{x{Gn{x{C's{x {WH{x{Do{x{Wo{x{Dp{x{Ws{x","{GS{x{Ch{x{Ge{x{Cn{x{Gr{x{Co{x{Gn{x{C's{x {WS{xi{Wl{xv{We{xr {WM{xan{We{x","{GS{x{Ch{x{Ge{x{Cn{x{Gr{x{Co{x{Gn{x{C's{x {WF{xu{Wr{x {WM{x{Ca{xnt{Cl{x{We{x","{GS{x{Ch{x{Ge{x{Cn{x{Gr{x{Co{x{Gn{x{C's{x {WG{x{Cl{x{Wo{x{Cw{Wi{x{Cn{x{Wg{x {CI{x{mn{x{Cs{x{mi{x{Cg{x{mn{x{Ci{x{ma{x","{GS{x{Ch{x{Ge{x{Cn{x{Gr{x{Co{x{Gn{x{C's{x {gD{xr{ga{xg{go{xn {gS{xc{ga{xl{ge{x {WK{x{mi{x{Cmo{x{mn{Wo{x","{GS{x{Ch{x{Ge{x{Cn{x{Gr{x{Co{x{Gn{x{C's{x {WF{x{Cl{x{Wo{x{Cw{x{Wi{x{Cn{x{Wg{x {CS{x{mas{x{Ch{x","{GS{x{Ch{x{Ge{x{Cn{x{Gr{x{Co{x{Gn{x{C's{x {mS{x{Ck{x{mi{x{Cn{x Tight {mS{x{Cl{x{me{Ce{x{mv{x{Ce{x{ms{x","{GS{x{Ch{x{Ge{x{Cn{x{Gr{x{Co{x{Gn{x{C's{x {CW{x{mo{x{Cv{x{me{x{Cn{x {WB{x{ma{x{Cn{x{md{x{Ws{x","{GS{x{Ch{x{Ge{x{Cn{x{Gr{x{Co{x{Gn{x{C's{x {WC{x{Dl{x{Co{x{Dt{x{Wh{x {CH{x{ma{x{Cn{x{md{x{Cw{x{mr{x{Ca{x{mp{x{Cs{x","{GS{x{Ch{x{Ge{x{Cn{x{Gr{x{Co{x{Gn{x{C's{x {CH{x{ma{x{Ck{ma{x{Cm{x{me{x of {WV{x{Di{x{Crt{x{Du{x{We{x","{GS{x{Ch{x{Ge{x{Cn{x{Gr{x{Co{x{Gn{x{C's{x {WC{x{Dl{x{Co{x{Dt{x{Wh{x {CK{x{mn{x{Ce{x{me{x{Cw{x{mr{x{Ca{x{mp{x{Cs{x","{GS{x{Ch{x{Ge{x{Cn{x{Gr{x{Co{x{Gn{x{C's{x {WC{x{Dl{x{Co{x{Dt{x{Wh{x {CF{x{mo{x{Co{x{mt{x{Cw{x{mr{x{Ca{x{mp{x{Cs{x")
var/list/namek_wish_list = list("20 mystery boxes","20 senzu beans","{GP{x{go{x{Rr{x{Yun{x{Rg{x{ga{x{G's{x {gD{xr{ga{xg{go{xn{x {GE{x{Ry{x{Ge{x","{GP{x{go{x{Rr{x{Yun{x{Rg{x{ga{x{G's{x {DH{x{Wo{x{Dr{x{Wn{x{Ds{x","{GP{x{go{x{Rr{x{Yun{x{Rg{x{ga{x{G's{x {GL{x{Re{x{Yns{x{Re{x{Gs{x {cof{x {DDe{x{Bf{x{Wia{x{Bn{x{Dce{x","{GP{x{go{x{Rr{x{Yun{x{Rg{x{ga{x{G's{x {gG{xa{Dug{xe{gs{x","{GP{x{go{x{Rr{x{Yun{x{Rg{x{ga{x{G's{x {gD{xr{ga{xg{go{xn {WB{x{yo{x{Wn{x{ye{x {DB{x{We{x{Dv{x{Wo{x{Dr{x","{GP{x{go{x{Rr{x{Yun{x{Rg{x{ga{x{G's{x {DS{x{Wp{x{gik{x{We{x{Dd{x {DP{x{ra{x{Ru{x{rl{xd{rr{x{Ro{x{rn{x{Ds{x","{GP{x{go{x{Rr{x{Yun{x{Rg{x{ga{x{G's{x {gD{xo{gr{xs{ga{xl {yF{x{gi{x{yn{x","{GP{x{go{x{Rr{x{Yun{x{Rg{x{ga{x{G's{x {DI{xn{rd{x{Ro{x{rm{xi{rn{x{Ra{x{rb{xl{De{x {DCu{xi{Wr{xa{Dss{x","{GP{x{go{x{Rr{x{Yun{x{Rg{x{ga{x{G's{x {gD{xr{ga{xg{go{xn {WB{x{yo{x{Wn{x{ye{x {DF{x{Wa{xul{Wd{x{Ds{x","{GP{x{go{x{Rr{x{Yun{x{Rg{x{ga{x{G's{x {gD{xr{ga{xg{go{xn {gS{xc{ga{xl{ge{x {DV{x{ra{x{Rm{x{rb{xr{ra{x{Rc{x{re{Ds{x","{GP{x{go{x{Rr{x{Yun{x{Rg{x{ga{x{G's{x {WP{x{ya{xdd{ye{x{Wd{x {DW{xr{ri{x{Rs{x{rt{x{Wg{x{ru{x{Ra{x{rr{x{xd{Ds{x","{GP{x{go{x{Rr{x{Yun{x{Rg{x{ga{x{G's{x {bH{x{Ba{x{Dr{xde{Dn{x{Be{x{bd{x {DG{x{ra{x{Ru{x{rn{xt{rl{x{Re{x{rt{x{Ds{x","{GP{x{go{x{Rr{x{Yun{x{Rg{x{ga{x{G's{x {gD{xr{ga{xg{go{xn {gS{xc{ga{xl{ge{x {DC{x{rh{x{Ra{xus{Rs{x{re{x{Ds{x","{GP{x{go{x{Rr{x{Yun{x{Rg{x{ga{x{G's{x {DJ{x{Ro{x{ri{xn{rt{x{Re{x{Dd{x {WB{x{Dr{xa{Dc{x{We{x","{GP{x{go{x{Rr{x{Yun{x{Rg{x{ga{x{G's{x {bT{x{Be{x{Dm{xpe{Dr{x{Be{x{bd{x {DS{x{ra{x{Rb{x{Wat{x{Ro{x{rn{x{Ds{x");
//var/list/ALLITEMS = list("{DBl{x{ba{x{Dck{x {WS{x{Dta{x{Wr{x {gD{xr{ga{xg{xo{gn{x {WE{x{Dy{x{We{x","{GS{x{Ch{x{Ge{x{Cn{x{Gr{x{Co{x{Gn{x{C's{x {gD{xr{ga{xg{xo{gn{x {GE{x{Ry{x{Ge{x","{GP{x{go{x{Rr{x{Yun{x{Rg{x{ga{x{G's{x {gD{xr{ga{xg{xo{gn{x {GE{x{Ry{x{Ge{x","{DBl{x{ba{x{Dck{x {WS{x{Dta{x{Wr{x {DC{x{br{x{Bo{x{bw{x{Dn{x","{GS{x{Ch{x{Ge{x{Cn{x{Gr{x{Co{x{Gn{x{C's{x {yAntlers{x","{GP{x{go{x{Rr{x{Yun{x{Rg{x{ga{x{G's{x {DH{x{Wo{x{Dr{x{Wn{x{Ds{x","{DBl{x{ba{x{Dck{x {WS{x{Dta{x{Wr{x {DL{x{be{x{rns{x{be{x{Ds{x {cof{x {DM{x{Wa{rli{x{Wc{x{De{x","{GS{x{Ch{x{Ge{x{Cn{x{Gr{x{Co{x{Gn{x{C's{x {GL{x{Ce{Rns{x{Ce{x{Gs{x {cof{x {WW{x{Di{Csd{x{Do{x{Wm{x","{GP{x{go{x{Rr{x{Yun{x{Rg{x{ga{x{G's{x {GL{x{Re{x{Yns{x{Re{x{Gs{x {cof{x {DDe{x{Bf{Wia{x{Bn{x{Dce{x","{DBl{x{ba{x{Dck{x {WS{x{Dta{x{Wr{x {WC{x{Dh{x{bai{x{Dn{x{Ws{x","{GS{x{Ch{x{Ge{x{Cn{x{Gr{x{Co{x{Gn{x{C's{x {WH{x{Do{x{Wo{x{Dp{x{Ws{x","{GP{x{go{x{Rr{x{Yun{x{Rg{x{ga{x{G's{x {gG{xa{Dug{xe{gs{x","{DBl{x{ba{x{Dck{x {WS{x{Dta{x{Wr{x {gD{xr{ga{xg{go{xn{x {DC{x{rl{x{ba{x{rw{x{Ds{x","{GS{x{Ch{x{Ge{x{Cn{x{Gr{x{Co{x{Gn{x{C's{x {WS{xi{Wl{xv{We{xr {WM{xan{We{x","{GP{x{go{x{Rr{x{Yun{x{Rg{x{ga{x{G's{x {gD{xr{ga{xg{go{xn {WB{x{yo{x{Wn{x{ye{x {DB{x{We{x{Dv{x{Wo{x{Dr{x","{DBl{x{ba{x{Dck{x {WS{x{Dta{x{Wr{x {WS{x{Dh{x{rro{x{Du{x{Wd{x of {DS{x{Wh{xad{Wo{x{Dw{x","{GS{x{Ch{x{Ge{x{Cn{x{Gr{x{Co{x{Gn{x{C's{x {WF{xu{Wr{x {WM{x{Ca{xnt{Cl{x{We{x","{GP{x{go{x{Rr{x{Yun{x{Rg{x{ga{x{G's{x {DS{x{Wp{x{gik{x{We{x{Dd{x {DP{x{ra{x{Ru{x{rl{xd{rr{x{Ro{x{rn{x{Ds{x","{DBl{x{ba{x{Dck{x {WS{x{Dta{x{Wr{x {gD{xr{ga{xg{D({x{b*{x{D){x{gn{x {DB{x{ba{x{Dl{x{Dls{x","{GS{x{Ch{x{Ge{x{Cn{x{Gr{x{Co{x{Gn{x{C's{x {WG{x{Cl{x{Wo{x{Cw{Wi{x{Cn{x{Wg{x {CI{x{mn{x{Cs{x{mi{x{Cg{x{mn{x{Ci{x{ma{x","{GP{x{go{x{Rr{x{Yun{x{Rg{x{ga{x{G's{x {gD{xo{gr{xs{ga{xl {yF{x{gi{x{yn{x","{DBl{x{ba{x{Dck{x {WS{x{Dta{x{Wr{x {DL{x{be{x{ya{x{rt{x{yh{x{be{x{Dr{x {DHide{x","{GS{x{Ch{x{Ge{x{Cn{x{Gr{x{Co{x{Gn{x{C's{x {gD{xr{ga{xg{go{xn {gS{xc{ga{xl{ge{x {WK{x{mi{x{Cmo{x{mn{Wo{x","{GP{x{go{x{Rr{x{Yun{x{Rg{x{ga{x{G's{x {DI{xn{rd{x{Ro{x{rm{xi{rn{x{Ra{x{rb{xl{De{x {DCu{xi{Wr{xa{Dss{x","{DBl{x{ba{x{Dck{x {WS{x{Dta{x{Wr{x {WC{x{Dh{x{ba{x{Di{x{Wn{x {DC{xy{rn{xc{Dh{x","{GS{x{Ch{x{Ge{x{Cn{x{Gr{x{Co{x{Gn{x{C's{x {WF{x{Cl{x{Wo{x{Cw{x{Wi{x{Cn{x{Wg{x {CS{x{mas{x{Ch{x","{GP{x{go{x{Rr{x{Yun{x{Rg{x{ga{x{G's{x {gD{xr{ga{xg{go{xn {WB{x{yo{x{Wn{x{ye{x {DF{x{Wa{xul{Wd{x{Ds{x","{DBl{x{ba{x{Dck{x {WS{x{Dta{x{Wr{x {DTr{x{bib{x{Dal{x {DTa{x{rtt{x{Doo{x{x'{rs{x","{GS{x{Ch{x{Ge{x{Cn{x{Gr{x{Co{x{Gn{x{C's{x {mS{x{Ck{x{mi{x{Cn{x Tight {mS{x{Cl{x{me{Ce{x{mv{x{Ce{x{ms{x","{GP{x{go{x{Rr{x{Yun{x{Rg{x{ga{x{G's{x {gD{xr{ga{xg{go{xn {gS{xc{ga{xl{ge{x {DV{x{ra{x{Rm{x{rb{xr{ra{x{Rc{x{re{Ds{x","{DBl{x{ba{x{Dck{x {WS{x{Dta{x{Wr{x {WC{x{Dh{x{ba{x{Di{x{Wn{x {DB{x{rr{x{Wa{x{Dce{x{Wl{x{re{x{Dt{x","{GS{x{Ch{x{Ge{x{Cn{x{Gr{x{Co{x{Gn{x{C's{x {CW{x{mo{x{Cv{x{me{x{Cn{x {WB{x{ma{x{Cn{x{md{x{Ws{x","{GP{x{go{x{Rr{x{Yun{x{Rg{x{ga{x{G's{x {WP{x{ya{xdd{ye{x{Wd{x {DW{xr{ri{x{Rs{x{rt{x{Wg{x{ru{x{Ra{x{rr{x{xd{Ds{x","{DBl{x{ba{x{Dck{x {WS{x{Dta{x{Wr{x {DO{x{bb{x{Bs{Did{x{Bi{x{ba{x{Dn{x {DK{x{rn{xu{rck{xl{re{x{Ds{x","{GS{x{Ch{x{Ge{x{Cn{x{Gr{x{Co{x{Gn{x{C's{x {WC{x{Dl{x{Co{x{Dt{x{Wh{x {CH{x{ma{x{Cn{x{md{x{Cw{x{mr{x{Ca{x{mp{x{Cs{x","{GP{x{go{x{Rr{x{Yun{x{Rg{x{ga{x{G's{x {bH{x{Ba{x{Dr{xde{Dn{x{Be{x{bd{x {DG{x{ra{x{Ru{x{rn{xt{rl{x{Re{x{rt{x{Ds{x","{DBl{x{ba{x{Dck{x {WS{x{Dta{x{Wr{x {DH{x{ba{x{Dka{x{bm{x{De{x of {DH{x{ra{x{Dt{x{re{x","{GS{x{Ch{x{Ge{x{Cn{x{Gr{x{Co{x{Gn{x{C's{x {CH{x{ma{x{Ck{ma{x{Cm{x{me{x of {WV{x{Di{x{Crt{x{Du{x{We{x","{GP{x{go{x{Rr{x{Yun{x{Rg{x{ga{x{G's{x {gD{xr{ga{xg{go{xn {gS{xc{ga{xl{ge{x {DC{x{rh{x{Ra{xus{Rs{x{re{x{Ds{x","{GS{x{Ch{x{Ge{x{Cn{x{Gr{x{Co{x{Gn{x{C's{x {WC{x{Dl{x{Co{x{Dt{x{Wh{x {CK{x{mn{x{Ce{x{me{x{Cw{x{mr{x{Ca{x{mp{x{Cs{x","{GP{x{go{x{Rr{x{Yun{x{Rg{x{ga{x{G's{x {DJ{x{Ro{x{ri{xn{rt{x{Re{x{Dd{x {WB{x{Dr{xa{Dc{x{We{x","{DBl{x{ba{x{Dck{x {WS{x{Dta{x{Wr{x {DL{x{be{x{ya{x{rt{x{yh{x{be{x{Dr{x {DB{ro{xo{x{rt{x{Ds{x","{GS{x{Ch{x{Ge{x{Cn{x{Gr{x{Co{x{Gn{x{C's{x {WC{x{Dl{x{Co{x{Dt{x{Wh{x {CF{x{mo{x{Co{x{mt{x{Cw{x{mr{x{Ca{x{mp{x{Cs{x","{GP{x{go{x{Rr{x{Yun{x{Rg{x{ga{x{G's{x {bT{x{Be{x{Dm{xpe{Dr{x{Be{x{bd{x {DS{x{ra{x{Rb{x{Wat{x{Ro{x{rn{x{Ds{x")

proc

	buildWish_menu(mob/Player/m){
		var
			list/wish_menu[] = list()

		for(var/x in wish_list){
			wish_menu += "{D[x]{x"
		}

		wish_menu += "{RExit{x"

		return wish_menu;
	}

	buildWish_menu_namek(mob/Player/m){
		var
			list/wish_menu[] = list()

		for(var/x in namek_wish_list){
			wish_menu += "{D[x]{x"
		}

		wish_menu += "{RExit{x"

		return wish_menu;
	}

Command/Public
	wish
		name = "wish"
		internal_name = "wish"
		format = "wish";
		priority = 2
		_maxDistance = 0;
		tType = UTILITY;
		helpDescription = "Summon the dragon of the Dragon Balls! Use this after having gathered all the dragon balls in the same room."

		command(mob/Player/user) {
			if(user.getArea() == get_area("earth")){
				if(!DBDatum.WISHING && DBDatum.checkForDB(user) && DBDatum.areActive()){

					DBDatum.WISHING = user;

					send("{DThe sky darkens...{x",user.areaPlayers());
					alaparser.parse(user, "yell SHENRON I SUMMON YOU ARISE!!", list());

					user.locked = TRUE;
					sleep(15);
					send("[user.raceColor(user.name)] {Yhas summoned Shenron!{x",user.areaPlayers());
					user.locked = FALSE;

					var
						options = buildWish_menu(user)
						choice = rStrip_Escapes(input_menu("{GShenron{x {Ywants your answer{x",options,"fancy",45,user))

					choice = copytext(choice,1,findtext(choice," ~"))

					if(choice == "Exit"){
						send("Wish cancelled.",user)
						DBDatum.WISHING = NULL;
					}else if(choice == "10 mystery boxes"){
						send("You obtain a {GMystery Box{x x10!",user,TRUE)
						user.addInv(new /obj/item/MYSTERY_BOX);
						user.addInv(new /obj/item/MYSTERY_BOX);
						user.addInv(new /obj/item/MYSTERY_BOX);
						user.addInv(new /obj/item/MYSTERY_BOX);
						user.addInv(new /obj/item/MYSTERY_BOX);
						user.addInv(new /obj/item/MYSTERY_BOX);
						user.addInv(new /obj/item/MYSTERY_BOX);
						user.addInv(new /obj/item/MYSTERY_BOX);
						user.addInv(new /obj/item/MYSTERY_BOX);
						user.addInv(new /obj/item/MYSTERY_BOX);
						qFac.updateVariable(user,"SQ002_HUNT_DBS","Make a wish",TRUE);
						DBDatum.COOLDOWN = EARTH_DB_COOLDOWN_TIME;
						DBDatum.scatterDBS();
						DBDatum.WISHING = NULL;
					}else if(choice == "10 senzu beans"){
						send("You obtain a {ySenzu Beans{x x10!",user,TRUE)
						user.addInv(new /obj/item/SENZU_BEAN);
						user.addInv(new /obj/item/SENZU_BEAN);
						user.addInv(new /obj/item/SENZU_BEAN);
						user.addInv(new /obj/item/SENZU_BEAN);
						user.addInv(new /obj/item/SENZU_BEAN);
						user.addInv(new /obj/item/SENZU_BEAN);
						user.addInv(new /obj/item/SENZU_BEAN);
						user.addInv(new /obj/item/SENZU_BEAN);
						user.addInv(new /obj/item/SENZU_BEAN);
						user.addInv(new /obj/item/SENZU_BEAN);
						qFac.updateVariable(user,"SQ002_HUNT_DBS","Make a wish",TRUE);
						DBDatum.COOLDOWN = EARTH_DB_COOLDOWN_TIME;
						DBDatum.scatterDBS();
						DBDatum.WISHING = NULL;
					}else if(choice == "reset record (k/d)"){
						send("PvP record cleared.",user,TRUE)
						user.pvpk = 0;
						user.pvpd = 0;
						qFac.updateVariable(user,"SQ002_HUNT_DBS","Make a wish",TRUE);
						DBDatum.COOLDOWN = EARTH_DB_COOLDOWN_TIME;
						DBDatum.scatterDBS();
						DBDatum.WISHING = NULL;
					}else if(choice == "Shenron's Dragon Eye"){
						var/obj/item/I = new /obj/item/SHENRONS_DRAGON_EYE;
						send("You obtain a [I.DISPLAY]!",user,TRUE)
						user.addInv(I);
						qFac.updateVariable(user,"SQ002_HUNT_DBS","Make a wish",TRUE);
						DBDatum.COOLDOWN = EARTH_DB_COOLDOWN_TIME;
						DBDatum.scatterDBS();
						DBDatum.WISHING = NULL;
					}else if(choice == "Shenron's Antlers"){
						var/obj/item/I = new /obj/item/SHENRONS_ANTLERS;
						send("You obtain a [I.DISPLAY]!",user,TRUE)
						user.addInv(I);
						qFac.updateVariable(user,"SQ002_HUNT_DBS","Make a wish",TRUE);
						DBDatum.COOLDOWN = EARTH_DB_COOLDOWN_TIME;
						DBDatum.scatterDBS();
						DBDatum.WISHING = NULL;
					}else if(choice == "Shenron's Lenses of Wisdom"){
						var/obj/item/I = new /obj/item/SCOUTER/SHENRONS_LENSES_OF_WISDOM;
						send("You obtain a [I.DISPLAY]!",user,TRUE)
						user.addInv(I);
						qFac.updateVariable(user,"SQ002_HUNT_DBS","Make a wish",TRUE);
						DBDatum.COOLDOWN = EARTH_DB_COOLDOWN_TIME;
						DBDatum.scatterDBS();
						DBDatum.WISHING = NULL;
					}else if(choice == "Shenron's Hoops"){
						var/obj/item/I = new /obj/item/SHENRONS_HOOPS;
						send("You obtain a [I.DISPLAY]!",user,TRUE)
						user.addInv(I);
						qFac.updateVariable(user,"SQ002_HUNT_DBS","Make a wish",TRUE);
						DBDatum.COOLDOWN = EARTH_DB_COOLDOWN_TIME;
						DBDatum.scatterDBS();
						DBDatum.WISHING = NULL;
					}else if(choice == "Shenron's Silver Mane"){
						var/obj/item/I = new /obj/item/SHENRONS_SILVER_MANE;
						send("You obtain a [I.DISPLAY]!",user,TRUE)
						user.addInv(I);
						qFac.updateVariable(user,"SQ002_HUNT_DBS","Make a wish",TRUE);
						DBDatum.COOLDOWN = EARTH_DB_COOLDOWN_TIME;
						DBDatum.scatterDBS();
						DBDatum.WISHING = NULL;
					}else if(choice == "Shenron's Fur Mantle"){
						var/obj/item/I = new /obj/item/SHENRONS_FUR_MANTLE;
						send("You obtain a [I.DISPLAY]!",user,TRUE)
						user.addInv(I);
						qFac.updateVariable(user,"SQ002_HUNT_DBS","Make a wish",TRUE);
						DBDatum.COOLDOWN = EARTH_DB_COOLDOWN_TIME;
						DBDatum.scatterDBS();
						DBDatum.WISHING = NULL;
					}else if(choice == "Shenron's Glowing Insignia"){
						var/obj/item/I = new /obj/item/SHENRONS_GLOWING_INSIGNIA;
						send("You obtain a [I.DISPLAY]!",user,TRUE)
						user.addInv(I);
						qFac.updateVariable(user,"SQ002_HUNT_DBS","Make a wish",TRUE);
						DBDatum.COOLDOWN = EARTH_DB_COOLDOWN_TIME;
						DBDatum.scatterDBS();
						DBDatum.WISHING = NULL;
					}else if(choice == "Shenron's Dragon Scale Kimono"){
						var/obj/item/I = new /obj/item/SHENRONS_DRAGON_SCALE_KIMONO;
						send("You obtain a [I.DISPLAY]!",user,TRUE)
						user.addInv(I);
						qFac.updateVariable(user,"SQ002_HUNT_DBS","Make a wish",TRUE);
						DBDatum.COOLDOWN = EARTH_DB_COOLDOWN_TIME;
						DBDatum.scatterDBS();
						DBDatum.WISHING = NULL;
					}else if(choice == "Shenron's Flowing Sash"){
						var/obj/item/I = new /obj/item/SHENRONS_FLOWING_SASH;
						send("You obtain a [I.DISPLAY]!",user,TRUE)
						user.addInv(I);
						qFac.updateVariable(user,"SQ002_HUNT_DBS","Make a wish",TRUE);
						DBDatum.COOLDOWN = EARTH_DB_COOLDOWN_TIME;
						DBDatum.scatterDBS();
						DBDatum.WISHING = NULL;
					}else if(choice == "Shenron's Skin Tight Sleeves"){
						var/obj/item/I = new /obj/item/SHENRONS_SKIN_TIGHT_SLEEVES;
						send("You obtain a [I.DISPLAY]!",user,TRUE)
						user.addInv(I);
						qFac.updateVariable(user,"SQ002_HUNT_DBS","Make a wish",TRUE);
						DBDatum.COOLDOWN = EARTH_DB_COOLDOWN_TIME;
						DBDatum.scatterDBS();
						DBDatum.WISHING = NULL;
					}else if(choice == "Shenron's Woven Bands"){
						var/obj/item/I = new /obj/item/SHENRONS_WOVEN_BANDS;
						send("You obtain a [I.DISPLAY]!",user,TRUE)
						user.addInv(I);
						qFac.updateVariable(user,"SQ002_HUNT_DBS","Make a wish",TRUE);
						DBDatum.COOLDOWN = EARTH_DB_COOLDOWN_TIME;
						DBDatum.scatterDBS();
						DBDatum.WISHING = NULL;
					}else if(choice == "Shenron's Cloth Handwraps"){
						var/obj/item/I = new /obj/item/SHENRONS_CLOTH_HANDWRAPS;
						send("You obtain a [I.DISPLAY]!",user,TRUE)
						user.addInv(I);
						qFac.updateVariable(user,"SQ002_HUNT_DBS","Make a wish",TRUE);
						DBDatum.COOLDOWN = EARTH_DB_COOLDOWN_TIME;
						DBDatum.scatterDBS();
						DBDatum.WISHING = NULL;
					}else if(choice == "Shenron's Hakame of Virtue"){
						var/obj/item/I = new /obj/item/SHENRONS_HAKAME_OF_VIRTUE;
						send("You obtain a [I.DISPLAY]!",user,TRUE)
						user.addInv(I);
						qFac.updateVariable(user,"SQ002_HUNT_DBS","Make a wish",TRUE);
						DBDatum.COOLDOWN = EARTH_DB_COOLDOWN_TIME;
						DBDatum.scatterDBS();
						DBDatum.WISHING = NULL;
					}else if(choice == "Shenron's Cloth Kneewraps"){
						var/obj/item/I = new /obj/item/SHENRONS_CLOTH_KNEEWRAP;
						send("You obtain a [I.DISPLAY]!",user,TRUE)
						user.addInv(I);
						qFac.updateVariable(user,"SQ002_HUNT_DBS","Make a wish",TRUE);
						DBDatum.COOLDOWN = EARTH_DB_COOLDOWN_TIME;
						DBDatum.scatterDBS();
						DBDatum.WISHING = NULL;
					}else if(choice == "Shenron's Cloth Footwraps"){
						var/obj/item/I = new /obj/item/SHENRONS_CLOTH_FOOTWRAPS;
						send("You obtain a [I.DISPLAY]!",user,TRUE)
						user.addInv(I);
						qFac.updateVariable(user,"SQ002_HUNT_DBS","Make a wish",TRUE);
						DBDatum.COOLDOWN = EARTH_DB_COOLDOWN_TIME;
						DBDatum.scatterDBS();
						DBDatum.WISHING = NULL;
					}
				}else{
					send("You don't have all the dragonballs!",user,TRUE);
				}
			}else{
				if(!DBDatum_NAMEK.WISHING && DBDatum_NAMEK.checkForDB(user) && DBDatum_NAMEK.areActive()){

					DBDatum_NAMEK.WISHING = user;

					send("{DThe sky darkens...{x",user.areaPlayers());
					alaparser.parse(user, "yell PORUNGA I SUMMON YOU ARISE!!", list());

					user.locked = TRUE;
					sleep(15);
					send("[user.raceColor(user.name)] {Yhas summoned Porunga!{x",user.areaPlayers());
					user.locked = FALSE;

					var
						options = buildWish_menu_namek(user)
						choice = rStrip_Escapes(input_menu("{GPorunga{x {Ywants your answer{x",options,"fancy",45,user))

					choice = copytext(choice,1,findtext(choice," ~"))

					if(choice == "Exit"){
						send("Wish cancelled.",user)
						DBDatum_NAMEK.WISHING = NULL;
					}else if(choice == "20 mystery boxes"){
						send("You obtain a {GMystery Box{x x20!",user,TRUE)
						user.addInv(new /obj/item/MYSTERY_BOX);
						user.addInv(new /obj/item/MYSTERY_BOX);
						user.addInv(new /obj/item/MYSTERY_BOX);
						user.addInv(new /obj/item/MYSTERY_BOX);
						user.addInv(new /obj/item/MYSTERY_BOX);
						user.addInv(new /obj/item/MYSTERY_BOX);
						user.addInv(new /obj/item/MYSTERY_BOX);
						user.addInv(new /obj/item/MYSTERY_BOX);
						user.addInv(new /obj/item/MYSTERY_BOX);
						user.addInv(new /obj/item/MYSTERY_BOX);
						user.addInv(new /obj/item/MYSTERY_BOX);
						user.addInv(new /obj/item/MYSTERY_BOX);
						user.addInv(new /obj/item/MYSTERY_BOX);
						user.addInv(new /obj/item/MYSTERY_BOX);
						user.addInv(new /obj/item/MYSTERY_BOX);
						user.addInv(new /obj/item/MYSTERY_BOX);
						user.addInv(new /obj/item/MYSTERY_BOX);
						user.addInv(new /obj/item/MYSTERY_BOX);
						user.addInv(new /obj/item/MYSTERY_BOX);
						user.addInv(new /obj/item/MYSTERY_BOX);
						qFac.updateVariable(user,"SQ002_HUNT_DBS","Make a wish",TRUE);
						DBDatum_NAMEK.COOLDOWN = NAMEK_DB_COOLDOWN_TIME;
						DBDatum_NAMEK.scatterDBS();
						DBDatum_NAMEK.WISHING = NULL;
					}else if(choice == "20 senzu beans"){
						send("You obtain a {ySenzu Beans{x x20!",user,TRUE)
						user.addInv(new /obj/item/SENZU_BEAN);
						user.addInv(new /obj/item/SENZU_BEAN);
						user.addInv(new /obj/item/SENZU_BEAN);
						user.addInv(new /obj/item/SENZU_BEAN);
						user.addInv(new /obj/item/SENZU_BEAN);
						user.addInv(new /obj/item/SENZU_BEAN);
						user.addInv(new /obj/item/SENZU_BEAN);
						user.addInv(new /obj/item/SENZU_BEAN);
						user.addInv(new /obj/item/SENZU_BEAN);
						user.addInv(new /obj/item/SENZU_BEAN);
						user.addInv(new /obj/item/SENZU_BEAN);
						user.addInv(new /obj/item/SENZU_BEAN);
						user.addInv(new /obj/item/SENZU_BEAN);
						user.addInv(new /obj/item/SENZU_BEAN);
						user.addInv(new /obj/item/SENZU_BEAN);
						user.addInv(new /obj/item/SENZU_BEAN);
						user.addInv(new /obj/item/SENZU_BEAN);
						user.addInv(new /obj/item/SENZU_BEAN);
						user.addInv(new /obj/item/SENZU_BEAN);
						user.addInv(new /obj/item/SENZU_BEAN);
						qFac.updateVariable(user,"SQ002_HUNT_DBS","Make a wish",TRUE);
						DBDatum_NAMEK.COOLDOWN = NAMEK_DB_COOLDOWN_TIME;
						DBDatum_NAMEK.scatterDBS();
						DBDatum_NAMEK.WISHING = NULL;
					}else if(choice == "Porunga's Dragon Eye"){
						var/obj/item/I = new /obj/item/PORUNGAS_DRAGON_EYE;
						send("You obtain a [I.DISPLAY]!",user,TRUE)
						user.addInv(I);
						qFac.updateVariable(user,"SQ002_HUNT_DBS","Make a wish",TRUE);
						DBDatum_NAMEK.COOLDOWN = NAMEK_DB_COOLDOWN_TIME;
						DBDatum_NAMEK.scatterDBS();
						DBDatum_NAMEK.WISHING = NULL;
					}else if(choice == "Porunga's Horns"){
						var/obj/item/I = new /obj/item/PORUNGAS_HORNS;
						send("You obtain a [I.DISPLAY]!",user,TRUE)
						user.addInv(I);
						qFac.updateVariable(user,"SQ002_HUNT_DBS","Make a wish",TRUE);
						DBDatum_NAMEK.COOLDOWN = NAMEK_DB_COOLDOWN_TIME;
						DBDatum_NAMEK.scatterDBS();
						DBDatum_NAMEK.WISHING = NULL;
					}else if(choice == "Porunga's Lenses of Defiance"){
						var/obj/item/I = new /obj/item/SCOUTER/PORUNGAS_LENSES_OF_DEFIANCE;
						send("You obtain a [I.DISPLAY]!",user,TRUE)
						user.addInv(I);
						qFac.updateVariable(user,"SQ002_HUNT_DBS","Make a wish",TRUE);
						DBDatum_NAMEK.COOLDOWN = NAMEK_DB_COOLDOWN_TIME;
						DBDatum_NAMEK.scatterDBS();
						DBDatum_NAMEK.WISHING = NULL;
					}else if(choice == "Porunga's Gauges"){
						var/obj/item/I = new /obj/item/PORUNGAS_GAUGES;
						send("You obtain a [I.DISPLAY]!",user,TRUE)
						user.addInv(I);
						qFac.updateVariable(user,"SQ002_HUNT_DBS","Make a wish",TRUE);
						DBDatum_NAMEK.COOLDOWN = NAMEK_DB_COOLDOWN_TIME;
						DBDatum_NAMEK.scatterDBS();
						DBDatum_NAMEK.WISHING = NULL;
					}else if(choice == "Porunga's Dragon Bone Bevor"){
						var/obj/item/I = new /obj/item/PORUNGAS_DRAGON_BONE_BEVOR;
						send("You obtain a [I.DISPLAY]!",user,TRUE)
						user.addInv(I);
						qFac.updateVariable(user,"SQ002_HUNT_DBS","Make a wish",TRUE);
						DBDatum_NAMEK.COOLDOWN = NAMEK_DB_COOLDOWN_TIME;
						DBDatum_NAMEK.scatterDBS();
						DBDatum_NAMEK.WISHING = NULL;
					}else if(choice == "Porunga's Spiked Pauldrons"){
						var/obj/item/I = new /obj/item/PORUNGAS_SPIKED_PAULDRONS;
						send("You obtain a [I.DISPLAY]!",user,TRUE)
						user.addInv(I);
						qFac.updateVariable(user,"SQ002_HUNT_DBS","Make a wish",TRUE);
						DBDatum_NAMEK.COOLDOWN = NAMEK_DB_COOLDOWN_TIME;
						DBDatum_NAMEK.scatterDBS();
						DBDatum_NAMEK.WISHING = NULL;
					}else if(choice == "Porunga's Dorsal Fin"){
						var/obj/item/I = new /obj/item/PORUNGAS_DORSAL_FIN;
						send("You obtain a [I.DISPLAY]!",user,TRUE)
						user.addInv(I);
						qFac.updateVariable(user,"SQ002_HUNT_DBS","Make a wish",TRUE);
						DBDatum_NAMEK.COOLDOWN = NAMEK_DB_COOLDOWN_TIME;
						DBDatum_NAMEK.scatterDBS();
						DBDatum_NAMEK.WISHING = NULL;
					}else if(choice == "Porunga's Indominable Cuirass"){
						var/obj/item/I = new /obj/item/PORUNGAS_INDOMINABLE_CUIRASS;
						send("You obtain a [I.DISPLAY]!",user,TRUE)
						user.addInv(I);
						qFac.updateVariable(user,"SQ002_HUNT_DBS","Make a wish",TRUE);
						DBDatum_NAMEK.COOLDOWN = NAMEK_DB_COOLDOWN_TIME;
						DBDatum_NAMEK.scatterDBS();
						DBDatum_NAMEK.WISHING = NULL;
					}else if(choice == "Porunga's Dragon Bone Faulds"){
						var/obj/item/I = new /obj/item/PORUNGAS_DRAGON_BONE_FAULDS;
						send("You obtain a [I.DISPLAY]!",user,TRUE)
						user.addInv(I);
						qFac.updateVariable(user,"SQ002_HUNT_DBS","Make a wish",TRUE);
						DBDatum_NAMEK.COOLDOWN = NAMEK_DB_COOLDOWN_TIME;
						DBDatum_NAMEK.scatterDBS();
						DBDatum_NAMEK.WISHING = NULL;
					}else if(choice == "Porunga's Dragon Scale Vambraces"){
						var/obj/item/I = new /obj/item/PORUNGAS_DRAGON_SCALE_VAMBRACES;
						send("You obtain a [I.DISPLAY]!",user,TRUE)
						user.addInv(I);
						qFac.updateVariable(user,"SQ002_HUNT_DBS","Make a wish",TRUE);
						DBDatum_NAMEK.COOLDOWN = NAMEK_DB_COOLDOWN_TIME;
						DBDatum_NAMEK.scatterDBS();
						DBDatum_NAMEK.WISHING = NULL;
					}else if(choice == "Porunga's Padded Wristguards"){
						var/obj/item/I = new /obj/item/PORUNGAS_PADDED_WRISTGUARDS;
						send("You obtain a [I.DISPLAY]!",user,TRUE)
						user.addInv(I);
						qFac.updateVariable(user,"SQ002_HUNT_DBS","Make a wish",TRUE);
						DBDatum_NAMEK.COOLDOWN = NAMEK_DB_COOLDOWN_TIME;
						DBDatum_NAMEK.scatterDBS();
						DBDatum_NAMEK.WISHING = NULL;
					}else if(choice == "Porunga's Hardened Gauntlets"){
						var/obj/item/I = new /obj/item/PORUNGAS_HARDENED_GAUNTLETS;
						send("You obtain a [I.DISPLAY]!",user,TRUE)
						user.addInv(I);
						qFac.updateVariable(user,"SQ002_HUNT_DBS","Make a wish",TRUE);
						DBDatum_NAMEK.COOLDOWN = NAMEK_DB_COOLDOWN_TIME;
						DBDatum_NAMEK.scatterDBS();
						DBDatum_NAMEK.WISHING = NULL;
					}else if(choice == "Porunga's Dragon Scale Chausses"){
						var/obj/item/I = new /obj/item/PORUNGAS_DRAGON_SCALE_CHAUSSES;
						send("You obtain a [I.DISPLAY]!",user,TRUE)
						user.addInv(I);
						qFac.updateVariable(user,"SQ002_HUNT_DBS","Make a wish",TRUE);
						DBDatum_NAMEK.COOLDOWN = NAMEK_DB_COOLDOWN_TIME;
						DBDatum_NAMEK.scatterDBS();
						DBDatum_NAMEK.WISHING = NULL;
					}else if(choice == "Porunga's Jointed Brace"){
						var/obj/item/I = new /obj/item/PORUNGAS_JOINTED_BRACE;
						send("You obtain a [I.DISPLAY]!",user,TRUE)
						user.addInv(I);
						qFac.updateVariable(user,"SQ002_HUNT_DBS","Make a wish",TRUE);
						DBDatum_NAMEK.COOLDOWN = NAMEK_DB_COOLDOWN_TIME;
						DBDatum_NAMEK.scatterDBS();
						DBDatum_NAMEK.WISHING = NULL;
					}else if(choice == "Porunga's Tempered Sabatons"){
						var/obj/item/I = new /obj/item/PORUNGAS_TEMPERED_SABATONS;
						send("You obtain a [I.DISPLAY]!",user,TRUE)
						user.addInv(I);
						qFac.updateVariable(user,"SQ002_HUNT_DBS","Make a wish",TRUE);
						DBDatum_NAMEK.COOLDOWN = NAMEK_DB_COOLDOWN_TIME;
						DBDatum_NAMEK.scatterDBS();
						DBDatum_NAMEK.WISHING = NULL;
					}
				}else{
					send("You don't have all the dragonballs!",user)
				}
			}
		}